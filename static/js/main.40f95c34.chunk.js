(this["webpackJsonpsurvey-builder"]=this["webpackJsonpsurvey-builder"]||[]).push([[0],{15:function(e,t,n){e.exports=n(43)},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),u=n.n(i),c=(n(20),n(21),n(3)),l=n(4),o=n(2),s=n(6),h=n(5),d=(n(22),function(e){Object(s.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).selectRef=r.a.createRef(),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"unit"},r.a.createElement("span",null,"Choose what element to add next"),r.a.createElement("br",null),r.a.createElement("select",{name:"tabType",id:"tabType",ref:this.selectRef},r.a.createElement("option",{value:"slider"},"Slider")),r.a.createElement("button",{onClick:function(){return e.props.build(e.selectRef.current.value)}},"+"))}}]),n}(a.Component)),f=(n(23),function(e){Object(s.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).sliderRef=r.a.createRef(),a.outputRef=r.a.createRef(),a.qRef=r.a.createRef(),a.minRef=r.a.createRef(),a.maxRef=r.a.createRef(),a.state={min:1,max:100},a.state={checked:!1},a.handleChange=a.handleChange.bind(Object(o.a)(a)),a}return Object(l.a)(n,[{key:"delete",value:function(){this.props.delete(this.props.count)}},{key:"getCount",value:function(){this.props.getCount(this.props.count)}},{key:"handleChange",value:function(e,t,n){this.props.handleChange(e,t,n)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"unit"},r.a.createElement("p",null,"Drag the slider and click confirm"),r.a.createElement("p",null,"Question: ",r.a.createElement("input",{onInput:function(){return e.handleChange("Question",e.qRef.current.value,e.props.count)},ref:this.qRef,type:"text"})),r.a.createElement("input",{type:"range",min:"1",max:"100",defaultValue:"50",className:"slider",name:"myRange",id:"myRange",ref:this.sliderRef}),r.a.createElement("p",null,"Minimum: ",r.a.createElement("input",{onInput:function(){return e.handleChange("lowRange",e.minRef.current.value,e.props.count)},ref:this.minRef,type:"text"})),r.a.createElement("p",null,"Maximum: ",r.a.createElement("input",{onInput:function(){return e.handleChange("highRange",e.maxRef.current.value,e.props.count)},ref:this.maxRef,type:"text"})),r.a.createElement("p",{onClick:this.delete.bind(this)},"Delete"))}}]),n}(a.Component)),m=n(24),p=function(e){Object(s.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).builderFunction=function(e){var t=a.state.children;switch(e){case"slider":t.push({id:a.state.count,tab:r.a.createElement(f,{getCount:a.getCount,delete:a.delete,count:a.state.count,handleChange:a.handleChange,key:a.state.count.toString()})});break;default:t=r.a.createElement("div",null,"Unknown Element")}var n=a.state.output;n[a.state.count.toString()]={Type:e};var i=a.state.count+1;a.setState({children:t,count:i,output:n,complete:!1})},a.state={children:[],count:0,output:{},deleted:[],complete:!1},a.myRef=r.a.createRef(),a.submitRef=r.a.createRef(),a.nameRef=r.a.createRef(),a.builderFunction=a.builderFunction.bind(Object(o.a)(a)),a.handleChange=a.handleChange.bind(Object(o.a)(a)),a.delete=a.delete.bind(Object(o.a)(a)),a.getCount=a.getCount.bind(Object(o.a)(a)),a.outputCreate=a.outputCreate.bind(Object(o.a)(a)),a.checkOutput=a.checkOutput.bind(Object(o.a)(a)),a}return Object(l.a)(n,[{key:"handleChange",value:function(e,t,n){var a=this.state.output;a[n.toString()][e]=t,this.setState({output:a})}},{key:"delete",value:function(e){var t=this.state.deleted;t.push(e),this.setState({deleted:t})}},{key:"getCount",value:function(e){return e}},{key:"checkOutput",value:function(e){for(var t=0,n=!0;t.toString()in e;){var a=e[t.toString()];switch(a.Type){case"slider":if("lowRange"in a&&"highRange"in a&&"Question"in a){var r=!isNaN(a.lowRange),i=!isNaN(a.highRange);n=!!(parseInt(a.highRange)>parseInt(a.lowRange)&&r&&i)&&(n&&!0)}else n=!1;break;default:n=!1}t++}return n}},{key:"outputCreate",value:function(){var e=this,t={};this.state.children.filter((function(t){return-1===e.state.deleted.indexOf(t.id)})).map((function(n){t[n.id.toString()]=e.state.output[n.id.toString()]}));var n=this.nameRef.current.value.length>0;if(0 in t&&this.checkOutput(t)&&n){var a={userID:(new Date).toString()};a.name=this.nameRef.current.value;for(var r=0;r.toString()in t;)a["q"+r.toString()]=t[r.toString()],r++;a.count=r,m.post("https://test-api-615.herokuapp.com/api/feedback/surveys/",a).then((function(e){alert("Your survey has been successfully created"),console.log(e)})).catch((function(e){console.log(e)})),console.log(a)}else alert("You have not filled out all fields, or have entered an invalid value!")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"list",ref:this.myRef},r.a.createElement("form",{action:"/submit",method:"POST",className:"unit"},r.a.createElement("p",null,"Enter a name for this survey"),r.a.createElement("input",{ref:this.nameRef,type:"text",id:"userid",name:"userid"}),r.a.createElement("br",null),r.a.createElement("br",null)),this.state.children.filter((function(t){return-1===e.state.deleted.indexOf(t.id)})).map((function(e){return e.tab})),r.a.createElement(d,{build:this.builderFunction}),r.a.createElement("div",{className:"extraPad"},r.a.createElement("button",{onClick:this.outputCreate,ref:this.submitRef,type:"submit",value:"Submit",className:"btn"},"Submit")))}}]),n}(a.Component);var v=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.40f95c34.chunk.js.map